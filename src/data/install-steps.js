const INSTALL_PHASES = [
  {
    phase: "Phase 1: Mounting",
    icon: "\ud83d\udd29",
    steps: [
      {step:"1.1", action:"Mount DIN rail on mounting plate. Secure to splitter frame. Protected from rain, hydraulic spray, heat."},
      {step:"1.2", action:"Mount K1, K2, K3 relay sockets on DIN rail. K1 left, K2 center, K3 right."},
      {step:"1.3", action:"Mount DIN-rail terminal blocks. Need: +12V Bus (A), Ground bus, Junction B, Node X."},
      {step:"1.4", action:"Mount inline fuse holder near battery."},
      {step:"1.5", action:"Mount operator panel box. Drill for E-STOP, FWD, BWD, CYCLE. E-STOP largest, top position."},
      {step:"1.6", action:"Install pushbuttons. E-STOP top, CYCLE below, FWD and BWD bottom."},
      {step:"1.7", action:"Mount extend limit switch at full-extend position.",
       test:"Push cylinder to full extend. Verify NO pair closes (continuity test)."},
      {step:"1.8", action:"Mount retract limit switch at full-retract (home) position.",
       test:"Pull cylinder to full retract. Verify NC pair opens (continuity breaks)."},
    ]
  },
  {
    phase: "Phase 2: Power Circuit",
    icon: "\u26a1",
    steps: [
      {step:"2.1", action:"DISCONNECT BATTERY. Negative terminal first.", warn:true},
      {step:"2.2", action:"W29: BLACK 12AWG \u2014 Battery (\u2212) to Ground bus."},
      {step:"2.3", action:"W30: BLACK 12AWG \u2014 Ground bus to frame bolt (clean metal, star washer)."},
      {step:"2.4", action:"W01: RED 12AWG \u2014 Battery (+) to fuse holder input."},
      {step:"2.5", action:"W02: RED 12AWG \u2014 Fuse output to E-STOP NC pair."},
      {step:"2.6", action:"W03: RED 12AWG \u2014 E-STOP NC pair to +12V Bus (A)."},
      {step:"2.7", action:"Install 15A fuse. Reconnect battery (negative first, then positive)."},
      {step:"2.8", action:"TEST: Measure voltage at Bus (A).",
       test:"EXPECTED: ~12.5V with E-STOP released.\nPress E-STOP \u2014 drops to 0V.\nRelease \u2014 voltage returns."},
    ]
  },
  {
    phase: "Phase 3: Manual Jog",
    icon: "\ud83d\udd79\ufe0f",
    steps: [
      {step:"3.1", action:"W04: RED 14AWG \u2014 Bus (A) to FWD NO pair."},
      {step:"3.2", action:"W05: RED 14AWG \u2014 FWD NO pair to SOL-A (+)."},
      {step:"3.3", action:"W06: BLACK 14AWG \u2014 SOL-A (\u2212) to Ground bus."},
      {step:"3.4", action:"Diode D1 across SOL-A. Cathode stripe toward (+).", warn:true},
      {step:"3.5", action:"TEST: Start hydraulics. Hold FWD.",
       test:"EXPECTED: Cylinder extends while held. Stops on release."},
      {step:"3.6", action:"W07: RED 14AWG \u2014 Bus (A) to BWD NO pair."},
      {step:"3.7", action:"W08: RED 14AWG \u2014 BWD NO pair to SOL-B (+)."},
      {step:"3.8", action:"W09: BLACK 14AWG \u2014 SOL-B (\u2212) to Ground bus."},
      {step:"3.9", action:"Diode D2 across SOL-B. Cathode stripe toward (+).", warn:true},
      {step:"3.10", action:"TEST: Hold BWD.",
       test:"EXPECTED: Cylinder retracts while held. Stops on release."},
      {step:"3.11", action:"TEST: Jog full stroke both ways.",
       test:"EXPECTED: Extend limit NO pair closes at full extend.\nRetract limit NC pair opens at full retract."},
    ]
  },
  {
    phase: "Phase 4: K1 Cycle Latch",
    icon: "\ud83d\udd04",
    steps: [
      {step:"4.1", action:"Insert K1 relay. Diode D3 across coil. Cathode toward (+).", warn:true},
      {step:"4.2", action:"W10: RED 14AWG \u2014 Bus (A) to CYCLE NO pair."},
      {step:"4.3", action:"W11: RED 16AWG \u2014 CYCLE NO pair to Junction B."},
      {step:"4.4", action:"W12: RED 16AWG \u2014 Bus (A) to K1 Pair 1 COM."},
      {step:"4.5", action:"W13: RED 16AWG \u2014 K1 Pair 1 NO to Junction B."},
      {step:"4.6", action:"W14: RED 16AWG \u2014 Junction B to Retract Limit NC pair."},
      {step:"4.7", action:"W15: RED 16AWG \u2014 Retract Limit NC pair to K1 Coil (+)."},
      {step:"4.8", action:"W16: BLACK 16AWG \u2014 K1 Coil (\u2212) to Ground bus."},
      {step:"4.9", action:"Jog cylinder off the retract limit with FWD."},
      {step:"4.10", action:"TEST: Press CYCLE and release.",
       test:"EXPECTED: K1 picks up and STAYS latched after release.\nIf it drops: check W12 and W13 (seal path)."},
      {step:"4.11", action:"TEST: Jog cylinder to home with BWD until retract limit trips.",
       test:"EXPECTED: K1 drops when retract limit opens.\nConfirms cycle-end works."},
    ]
  },
  {
    phase: "Phase 5: Node X + K3 Extend Memory",
    icon: "\ud83e\udde0",
    steps: [
      {step:"5.1", action:"W17: RED 14AWG \u2014 Bus (A) to K1 Pair 2 COM."},
      {step:"5.2", action:"W18: RED 14AWG \u2014 K1 Pair 2 NO to Node X terminal block."},
      {step:"5.3", action:"Insert K3 relay. Diode D5 across coil. Cathode toward (+).", warn:true},
      {step:"5.4", action:"W19: RED 14AWG \u2014 Node X to K3 Pair 1 COM. Jumper K3 Pair 1 COM to K3 Pair 2 COM."},
      {step:"5.5", action:"W22: RED 16AWG \u2014 Node X to Extend Limit NO pair."},
      {step:"5.6", action:"W23: RED 16AWG \u2014 Extend Limit NO pair to K3 Coil (+)."},
      {step:"5.7", action:"W24: RED 16AWG \u2014 K3 Pair 2 NO to K3 Coil (+). This is the seal \u2014 lands on same terminal as W23."},
      {step:"5.8", action:"W25: BLACK 16AWG \u2014 K3 Coil (\u2212) to Ground bus."},
      {step:"5.9", action:"TEST: Jog off home. Press CYCLE (K1 latches). Trigger extend limit.",
       test:"EXPECTED: K3 picks up when extend limit closes.\nRelease extend limit \u2014 K3 STAYS latched (seal holding)."},
    ]
  },
  {
    phase: "Phase 6: K2 Direction + Outputs",
    icon: "\u2705",
    steps: [
      {step:"6.1", action:"Insert K2 relay. Diode D4 across coil. Cathode toward (+).", warn:true},
      {step:"6.2", action:"W20: RED 16AWG \u2014 K3 Pair 1 NC to K2 Coil (+). This is the lock."},
      {step:"6.3", action:"W21: BLACK 16AWG \u2014 K2 Coil (\u2212) to Ground bus."},
      {step:"6.4", action:"W26: RED 14AWG \u2014 Node X to K2 Pair 1 COM."},
      {step:"6.5", action:"W27: GREEN 14AWG \u2014 K2 Pair 1 NO to SOL-A (+)."},
      {step:"6.6", action:"W28: GREEN 14AWG \u2014 K2 Pair 1 NC to SOL-B (+)."},
      {step:"6.7", action:"TEST: Jog off home. Press CYCLE.",
       test:"EXPECTED: K1 latches, K2 picks up. SOL-A fires \u2014 cylinder extends."},
      {step:"6.8", action:"TEST: Let cylinder hit extend limit.",
       test:"EXPECTED: K3 picks up, K2 drops. SOL-B fires \u2014 cylinder retracts.\nK2 stays off (no bounce)."},
      {step:"6.9", action:"TEST: Let cylinder hit retract limit.",
       test:"EXPECTED: K1 drops. Everything shuts off. Cycle complete."},
      {step:"6.10", action:"TEST E-STOP: Start a cycle. Press E-STOP mid-extend.",
       test:"EXPECTED: Everything stops immediately.\nRelease E-STOP. Jog home with BWD. New cycle works."},
      {step:"6.11", action:"START PROCEDURE: Tap FWD to nudge off home, then press CYCLE.",
       test:"This is normal. Retract limit prevents K1 from latching at home.\nFWD nudge moves cylinder off limit, then CYCLE starts auto sequence."},
    ]
  },
];
